<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Liu Tao</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.70.0" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.4fc0b62e4b82c997bb0041217cd6b979.css" rel="stylesheet">
    

    

    
      

    

    
    
      <link href="/posts/index.xml" rel="alternate" type="application/rss+xml" title="Liu Tao" />
      <link href="/posts/index.xml" rel="feed" type="application/rss+xml" title="Liu Tao" />
      
    
    
    <meta property="og:title" content="Posts" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/posts/" />
<meta property="og:updated_time" content="2020-06-20T00:00:00+00:00" />
<meta itemprop="name" content="Posts">
<meta itemprop="description" content=""><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Posts"/>
<meta name="twitter:description" content=""/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    

  <header>
    <div class="pb3-m pb6-l bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Liu Tao
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/posts" title="Posts page">
              Posts
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/about/" title="About page">
              About
            </a>
          </li>
          
        </ul>
      
      















    </div>
  </div>
</nav>

      <div class="tc-l pv3 ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
          Posts
        </h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      
  <article class="pa3 pa4-ns nested-copy-line-height nested-img">
    <section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy mid-gray"></section>
    <section class="flex-ns flex-wrap justify-around mt5">
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/replace_battery_of_mbp_2015/" class="link black dim">
        MacBook Pro 2015 更换电池记录
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      电脑特别卡，无意中发现电池鼓包严重 此款笔记本 2015 年上市，已使用 4 年多了。 近段时间以来，电脑越来越卡，浏览器开几个网页就卡。尝试过清理垃圾、清理内存、升级系统，均不起作用，真想使用重装系统大法。活动（进程）监视器中有两个进程占用了特别高的使用率，分别是 WindowServer 和 kernal_task。
查询得知，WindowServer 负责渲染，但我只开几个网页，也会卡到爆，换做以前开二三十个网页都没问题；kernal_task 控制风扇的，当它觉得电脑太热时，会占用较高资源，让风扇疯狂转起来。
笔记本散热不好，我是知道的。大部分情况下，我会开好几个程序，因此风扇一直都是以较大功率运行着。这几年都是这个情况。 可是现在什么都没做，电脑都会卡到爆炸，就百思不得其解了。
直到近日，想着给电脑散散热，取下了电脑保护壳（ A面、D面有保护壳），才发现 D 面（底面）中部已经鼓起来了。D 面有 4 个触点，正常情况下，正好可以水平放置。因为中部凸起，导致有一个点已经悬空，手掌按压，能感受到鼓起来的部分还比较严重。这只能说明电池鼓包很严重，吓得我赶紧关机了。
此款笔记本，去年（2019 年）苹果出了一个电池召回计划，说是电池有隐患（会爆炸的那种），提供免费更换服务。我去了，但是没换成。因为 2017 年北京突如其来了一场特大暴雨，我护机不利，导致电脑进了很多水，差点就寿终正寝了。 维修人员说不能更换，理由是更换电池会连着主板一起换，我的主板进水了，所以不能免费更换了。我就很纳闷，电池和主板一般情况下都是分开的，怎么会需要连着一起换呢。查了一些资料（增加了拆机相关的知识储备），发现有很多人就是自己买电池，自行更换成功的。那时，电脑还能正常使用，就没纠结着电池的事了。
现在电池出了这么大的问题，首先我是不会去售后的啦，按照那换主板的价格，足够买一个二手的了。我赶紧根据电脑型号（A1398）在网上下单买了某品牌电池（原装电池是没办法买到的）。
更换过程（详细过程请找本文最后的参考资料）： 电池回来以后，发现虽然电脑型号都一样，但我的电脑比别人的拆机图多了一个部件，正好卡在电池表面（图中，电池中部那黑色长条部分）。多番研究，最终还是在客服的指导下，才明白黑色的是触控板的排线。而这个排线是使用双面胶粘在电池排线上，我胆战心惊的清理了很久才拆分开来。 触控板排线拆下来以后，就是拆电池了。电池也是双面胶粘上去的，需要耐心清理，同时也需要使很大的劲。唯一需要注意的是，中间的那两块电池下方是触控板，需要小心一点。
小心翼翼的清理了很久（顺便清理了一下灰尘），然后更换上新的电池，装好排线。同时内心不停的祈祷，不要出现问题（此过程属实煎熬）。好在开机一次点亮，如释重负。查看系统消息，一切正常，电池也确实是新的。
庆幸之余，发现电脑不卡了，性能和以前一样了，继续使用三五年是没问题啦。看来更换电池会使电脑运行流畅是有道理的。
以下多图：
参考资料：  亲历，Mac Pro 电池充不进电，检测及自己更换电池，省钱！ - 简书
 
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/mac_docker_desktop_install_kubernetes/" class="link black dim">
        mac docker desktop 安装 kubernetes
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      git clone https://github.com/AliyunContainerService/k8s-for-docker-desktop cd k8s-for-docker-desktop git checkout v1.15.5 ./load_images.sh 如果出现以下错误，重启docker，重新执行命令即可
images.properties found. Error response from daemon: Get https://registry.cn-hangzhou.aliyuncs.com/v2/: net/http: TLS handshake timeout Error response from daemon: No such image: registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 Error: No such image: registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.1 Error response from daemon: Get https://registry.cn-hangzhou.aliyuncs.com/v2/: net/http: TLS handshake timeout Error response from daemon: No such image: registry.cn-hangzhou.aliyuncs.com/google_containers/kube-controller-manager:v1.15.5 Error: No such image: registry.cn-hangzhou.aliyuncs.com/google_containers/kube-controller-manager:v1.15.5 Error response from daemon: Get https://registry.cn-hangzhou.aliyuncs.com/v2/: net/http: TLS handshake timeout Error response from daemon: No such image: registry.
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/dnsmasq_and_laradock/" class="link black dim">
        dnsmasq &#43; laradock 本地开发自动解析域名，无需添加 hosts
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      使用场景 实际工作中有一些本地的域名需要修改 hosts 才可以访问，例如:test.laravel，develop.test。
实现的目的： 在指定目录下新建 laravel 项目（比如 test）后，可以直接在浏览器中访问 http://test.laravel，无需再修改 hosts 文件
基本原理：
 使用 dnsmasq 将 .laravel 域名代理到本地解析 使用 nginx 实现目录下的 泛域名解析  学习本文，你需要具备以下基本技能：
 程序员必备的基本技能（比如 vi/vim，终端命令） nginx dnsmasq （跟着本文即可知道大致用法） laradock （需要很熟练，需要会配置 nginx）  本文将以 .laravel 为例来说明。 在开始前，可以先 ping test.laravel,看一下结果（结果肯定是 ping 不通啦）
dnsmasq brew install dnsmasq echo &quot;address=/laravel/127.0.0.1&quot; &gt;&gt; /usr/local/etc/dnsmasq.conf address=/laravel/127.0.0.1， 意思是访问 .laravel 直接引导到 127.0.0.1
sudo mkdir -p /etc/resolver sudo tee /etc/resolver/laravel &lt;&lt;&lt; &quot;nameserver 127.0.0.1&quot; 这里新建的文件叫 laravel , 因为我配置的域名结尾是 .
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/import_posts_to_hugo_from_boostnote/" class="link black dim">
        Boostnote 内容导入到 hugo
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      我为什么使用 boostnote 第一，开源，自己的内容就是自己的，可以各种导出； 第二，对 Vim 支持良好（Vim 已中毒）。
缺点也是有的，Vim 模拟的并不全。 后面我会往 org-mode 迁移。 本博客所记内容大部分是使用 Boostnote 记录的。
内容管理软件大致是这个样子： 思路   首先需要导入的文章，我会给其一个 publicBlog 的标签（tag）。
  hugo 的文章需要一个 url，因此，我在每篇文章开头会加入几个元数据（格式与 org-mode 保持一致，我定的规矩）。因多次更换过内容管理软件，导致文章的写作时间已经无法准确区分了，因此这些缺失的时间会统一暂定为 2019-10-01
  #+AUTHOR: Liu Tao #+EMAIL: i@liutao.me #+DATE: 2019-10-01 #+EXPORT_FILE_NAME: this_is_title 推送文章到 github  实践  找出 tag 为 publicBlog 的文章 获取元数据 处理数据，生成 markdown 文件 git 管理，然后推送至 github  完整代码 代码使用 python 编写：
import os import shutil import cson boostnote_path = r&quot;/Users/tao/Google Drive/sync/Boostnote/notes&quot; blog_path = r&quot;/Users/tao/Work/mine/blog&quot; posts_path = blog_path + &quot;/content/posts&quot; local_public_path = blog_path + '/public' line_break = &quot;\n&quot; def generate_posts_from_boostnote(): os.
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/update_anaconda_and_update_spyder/" class="link black dim">
        Anaconda 升级与 Spyder 升级命令
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      升级conda(升级Anaconda前需要先升级conda)命令为：
conda update conda 升级anconda命令为：
conda update anaconda 升级spyder命令为：
conda update spyder 
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/download_videos_from_bilibili/" class="link black dim">
        bilibili 视频下载
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Chrome 浏览器 安装油猴插件 安装脚本（ GitHub - the1812/Bilibili-Evolved: 强大的哔哩哔哩增强脚本: 下载视频, 音乐, 封面, 弹幕 / 简化直播间, 评论区, 首页 / 自定义顶栏, 删除广告, 夜间模式 / 触屏设备支持 ） 打开 bilibili 网站视频，点击屏幕左侧图标，找到下载选项 可单个下载，也可批量下载  我本机已经配置好了 aria2，下载选项选择 aria2 RPC，然后 aria2 就开始下载了。完成！！！
重点步骤如下图：
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/permission_denied_of_brew_error/" class="link black dim">
        brew 错误 Error: Permission denied @ apply2files
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      如果有类似以下错误:
Error: Permission denied @ apply2files - /usr/local/share/Library/Caches/Yarn/v4/npm-@tarojs-components-1.3.9-2a2b36a74d441eb7d2b149a4e97eefcefe9e78ea/node_modules/@tarojs/components/src/components/.DS_Store 解决办法：
方法 1 sudo yarn cache clean brew cleanup 方法 2 卸载，重装
ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/uninstall)&quot; ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot; 如果没作用的话，可以从下面这个 issue 找下解决方案: brew cleanup: Error: Permission denied @ apply2files · Issue #45009 · Homebrew/homebrew-core · GitHub
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/install_centos_7/" class="link black dim">
        centos 7
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      默认安装了防火墙 firewalld
firewall-cmd --permanent --add-port=8080-8085/tcp firewall-cmd --reload firewall-cmd --permanent --remove-port=8080-8085/tcp firewall-cmd --permanent --list-services 安装docker yum -y update yum install -y docker service docker start service docker stop service docker restart docker 阿里镜像 加速器 sudo mkdir -p /etc/docker sudo tee /etc/docker/daemon.json &lt;&lt;-&#39;EOF&#39; { &#34;registry-mirrors&#34;: [&#34;https://wi8ogj05.mirror.aliyuncs.com&#34;] } EOF sudo systemctl daemon-reload sudo systemctl restart docker docker pull docker.io/java docker save docker.io/java &gt; /home/java.tar.gz docker rmi docker.io/java docker load &lt; /home/java.tar.gz docker images docker tag docker.
    </div>
  </div>
</div>
</div>
      
        <div class="relative w-100 w-30-l mb4 bg-white"><div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Posts</span>
    <h1 class="f3 near-black">
      <a href="/posts/conda_install_package_from_pip_packages/" class="link black dim">
        conda 安装 pip 的包 (conda install package from pip)
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      conda install pip ~/opt/anaconda3/envs/py3.7/bin/pip install massedit 
    </div>
  </div>
</div>
</div>
      
    </section>

<ul class="pagination">
    
    <li class="page-item">
        <a href="/posts/" class="page-link" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li class="page-item disabled">
    <a  class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item active"><a class="page-link" href="/posts/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/posts/page/2/">2</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/posts/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item disabled"><span aria-hidden="true">&nbsp;&hellip;&nbsp;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/posts/page/7/">7</a></li>
    
    
    <li class="page-item">
    <a href="/posts/page/2/" class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li class="page-item">
        <a href="/posts/page/7/" class="page-link" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>

</article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="" >
    &copy;  Liu Tao 2020 
  </a>
    <div>














</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
